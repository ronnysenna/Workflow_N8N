{"createdAt":"2025-02-24T16:01:09.332Z","updatedAt":"2025-03-29T18:56:47.000Z","id":"bYqbHElnnRQZzykp","name":"GR","active":true,"nodes":[{"parameters":{"assignments":{"assignments":[{"name":"idade","value":"={{ $json.Idade }}","type":"string"},{"name":"sexo","value":"={{ $json.Sexo }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-800,-840],"id":"9f1b443a-193c-4e5c-af65-5a5947beed8b","name":"Definir Sexo e Idade"},{"parameters":{"promptType":"define","text":"=VocÃª Ã© um assistente especializado em encontrar grupos de discipulado (GR).\n\nğŸ”¹ **InstruÃ§Ãµes Essenciais:**  \n1ï¸âƒ£ **VocÃª deve utilizar a Tool (Google Sheets) para buscar os grupos disponÃ­veis.**  \n2ï¸âƒ£ **NÃ£o tente adivinhar informaÃ§Ãµes.** Se a Tool nÃ£o retornar dados, retorne um JSON vazio `[]`.  \n3ï¸âƒ£ **Filtre os grupos com base no sexo informado no campo `{{$json[\"sexo\"]}}`.**  \n4ï¸âƒ£ **Responda apenas com JSON puro**, sem explicaÃ§Ãµes ou formataÃ§Ã£o Markdown.  \n\n---\n\n### **Tarefa:**  \n- **Busque os grupos disponÃ­veis para o sexo** `{{$json[\"sexo\"]}}` **usando a Tool.**  \n- **Filtre os resultados para garantir que apenas grupos do sexo correto sejam retornados.**  \n- **Se nÃ£o encontrar nenhum grupo, retorne um JSON vazio** `[]`.  \n- **NÃ£o tente gerar manualmente nenhuma informaÃ§Ã£o.**  \n\n---\n\n### **Entrada:**  \n```json\n{\n  \"sexo\": \"{{$json[\"sexo\"]}}\"\n}\n","options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-580,-940],"id":"24f838a6-0f7d-40c5-9ae8-4340d4ad50f3","name":"Buscar Grupos"},{"parameters":{"resource":"messages-api","instanceName":"=ronny","remoteJid":"=+55{{ $('On form submission1').item.json['Telefone (Whatsaap)'] }}","messageText":"=ğŸ‰ *Cadastro realizado com sucesso!* âœ…\n\nğŸ“¢ Em breve, o lÃ­der do seu GR entrarÃ¡ em contato com vocÃª! ğŸ“âœ¨\n\nğŸ™Œ Estamos muito felizes por vocÃª ter tomado essa decisÃ£o de caminhar conosco no GR! \nğŸš€ğŸ’™ Que essa jornada seja incrÃ­vel e cheia de crescimento! ğŸ’¡ğŸ”¥\n\n#GRadical  ğŸ¤ğŸ’«","options_message":{}},"type":"n8n-nodes-evolution-api.evolutionApi","typeVersion":1,"position":[240,-940],"id":"b440a1f1-cd74-4976-8672-5041c9ca6968","name":"Mensagem para o Adolescente","credentials":{"evolutionApi":{"id":"FK5HLtfwZybZ0Kyw","name":"Evolution "}}},{"parameters":{"resource":"messages-api","instanceName":"=ronny","remoteJid":"=+5585992525311","messageText":"=ğŸ“¢ OlÃ¡,{{ $json.nome_lider }}\nNovo membro chegando ao *GR {{ $('Sorteio de Grupo').item.json['NOME DO GR'] }}*\n\nğŸ‘¤ Nome:*{{ $('On form submission1').item.json['Como Gostaria de ser chamado'] }}*\nğŸ“ Telefone:*{{ $('On form submission1').item.json['Telefone (Whatsaap)'] }}*\nğŸ™‹â€â™‚ï¸ Idade:*{{ $('On form submission1').item.json.Idade }}*\nğŸ‘©â€ğŸ‘¦ Nome do responsÃ¡vel:*{{ $('On form submission1').item.json['Nome ResponsÃ¡vel'] }}*\nğŸ“² Contato do responsÃ¡vel:*{{ $('On form submission1').item.json['Telefone do ResponsÃ¡vel'] }}*\n\nâš ï¸ Favor entrar em contato. ğŸ¤","options_message":{}},"type":"n8n-nodes-evolution-api.evolutionApi","typeVersion":1,"position":[460,-740],"id":"93447ccf-529c-4743-ab8d-99f107b41b3f","name":"Mensagem para o LÃ­der","credentials":{"evolutionApi":{"id":"FK5HLtfwZybZ0Kyw","name":"Evolution "}}},{"parameters":{"jsCode":"// ObtÃ©m os grupos retornados pelo nÃ³ \"Buscar Grupos\"\nlet grupos = [];\n\ntry {\n    // Converte a string JSON da saÃ­da do AI Agent em um objeto JSON vÃ¡lido\n    grupos = JSON.parse($json.output);\n} catch (error) {\n    return [{ json: { error: \"Erro ao processar os grupos.\", detalhe: error.message, grupos_recebidos: $json.output } }];\n}\n\n// Garante que \"grupos\" Ã© um array vÃ¡lido\nif (!Array.isArray(grupos) || grupos.length === 0) {\n    return [{ json: { error: \"Nenhum grupo disponÃ­vel.\", grupos_recebidos: grupos } }];\n}\n\n// ObtÃ©m a idade do nÃ³ \"Definir Sexo e Idade\"\nconst idadeAdolescente = $('Definir Sexo e Idade').first().json.idade;\n\n// Retorna os dados formatados corretamente para o prÃ³ximo nÃ³\nreturn [{ json: { idade: idadeAdolescente, grupos: grupos } }];\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-200,-840],"id":"72663408-cb83-451c-a083-93cbcf1b0b4e","name":"PreparaÃ§Ã£o de Dados"},{"parameters":{"jsCode":"// ObtÃ©m os dados processados do nÃ³ anterior\nlet idade = $json.idade;\nlet grupos = $json.grupos || [];\n\n// Garante que \"grupos\" Ã© um array vÃ¡lido\nif (!Array.isArray(grupos) || grupos.length === 0) {\n    return [{ json: { error: \"Nenhum grupo disponÃ­vel para sorteio.\", grupos_recebidos: grupos } }];\n}\n\n// Filtra os grupos que correspondem Ã  faixa etÃ¡ria do adolescente\nlet gruposFiltrados = grupos.filter(grupo => {\n    // Captura a faixa etÃ¡ria do grupo\n    let faixaEtaria = grupo[\"FAIXA ETÃRIA\"];\n\n    // Se a faixa etÃ¡ria estiver vazia, inclui o grupo por padrÃ£o\n    if (!faixaEtaria) return true;\n\n    // Divide a faixa etÃ¡ria para verificar se o adolescente se encaixa\n    let numeros = faixaEtaria.match(/\\d+/g);\n    if (!numeros || numeros.length === 0) return false;\n\n    // Converte os valores para nÃºmeros inteiros\n    let minIdade = parseInt(numeros[0], 10);\n    let maxIdade = numeros.length > 1 ? parseInt(numeros[1], 10) : minIdade;\n\n    // Retorna verdadeiro se a idade do adolescente estiver na faixa\n    return idade >= minIdade && idade <= maxIdade;\n});\n\n// Verifica se existem grupos filtrados\nif (gruposFiltrados.length === 0) {\n    return [{ json: { error: \"Nenhum grupo compatÃ­vel com a idade encontrada.\", grupos_recebidos: grupos } }];\n}\n\n// Sorteia um grupo aleatÃ³rio entre os filtrados\nconst grupoSorteado = gruposFiltrados[Math.floor(Math.random() * gruposFiltrados.length)];\n\n// Retorna o grupo escolhido\nreturn [{ json: grupoSorteado }];\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[20,-840],"id":"744101ae-d5a4-40a9-b08f-8054d725a4ea","name":"Sorteio de Grupo"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-560,-740],"id":"f6137b5a-093d-4855-b62a-d4c4267c7a19","name":"OpenAI","credentials":{"openAiApi":{"id":"V3SIs1GbnDJ4HJfO","name":"OpenAi"}}},{"parameters":{"formTitle":"Cadastro GR","formDescription":"InscriÃ§Ã£o para GR Adolescente - IBC","formFields":{"values":[{"fieldLabel":"Nome Completo","placeholder":"Digite nome completo","requiredField":true},{"fieldLabel":"Como Gostaria de ser chamado"},{"fieldLabel":"Sexo","fieldType":"dropdown","fieldOptions":{"values":[{"option":"Masculino"},{"option":"Feminino "}]},"requiredField":true},{"fieldLabel":"Idade","fieldType":"number","placeholder":"Quantos anos vocÃª tem?","requiredField":true},{"fieldLabel":"E-Mail","fieldType":"email","placeholder":"Digite seu e-mail","requiredField":true},{"fieldLabel":"Telefone (Whatsaap)","placeholder":"Digite seu nÃºmero  EX: XX XXXXX-XXXX","requiredField":true},{"fieldLabel":"Nome ResponsÃ¡vel","requiredField":true},{"fieldLabel":"Telefone do ResponsÃ¡vel","placeholder":"EX: XX XXXXX-XXXX"}]},"options":{"ignoreBots":true,"useWorkflowTimezone":true}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[-1020,-840],"id":"5d071bf3-3231-459f-8e4f-ec37a0f3c896","name":"On form submission1","webhookId":"3d78a379-16de-4fb0-914a-6d838c094906"},{"parameters":{"documentId":{"__rl":true,"value":"1Vf2xgVyAC5u5MpTxykU9597ofn3QfxuOkgNNhYFAskc","mode":"list","cachedResultName":"LÃ­deres de GR 2025","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1Vf2xgVyAC5u5MpTxykU9597ofn3QfxuOkgNNhYFAskc/edit?usp=drivesdk"},"sheetName":{"__rl":true,"value":"gid=0","mode":"list","cachedResultName":"GERAL","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1Vf2xgVyAC5u5MpTxykU9597ofn3QfxuOkgNNhYFAskc/edit#gid=0"},"options":{}},"type":"n8n-nodes-base.googleSheetsTool","typeVersion":4.5,"position":[-420,-740],"id":"0fe68436-b54d-4516-ae70-38ec831f2f91","name":"Sheets2","credentials":{"googleSheetsOAuth2Api":{"id":"KDLloxZCu4SmjhtH","name":"Google Sheets account"}}},{"parameters":{"assignments":{"assignments":[{"id":"64bda863-5d7d-4836-947b-d57840697817","name":"nome_lider","value":"={{ $json['LÃDERE 1'] }}\n\n","type":"string"},{"id":"3fd7099d-d35e-4960-b061-994aa918f7e1","name":"contato_lider","value":"={{ \"+55\" + $json['CONTATO LÃDER'].replace(/\\D/g, \"\") }}\n","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[240,-740],"id":"2f6fe6a4-21d4-47a3-9096-fe6c60d0bec3","name":"Formato Num Lider"},{"parameters":{"httpMethod":"POST","path":"batismo","responseMode":"responseNode","options":{}},"type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1000,-440],"id":"20490421-aa51-41d8-b543-08a22e2167ef","name":"Receber Dados FormulÃ¡rio","webhookId":"batismo-post"},{"parameters":{"options":{}},"type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[460,-440],"id":"e369caee-bc74-4092-95c6-4604d843744a","name":"Confirmar Cadastro"},{"parameters":{"assignments":{"assignments":[{"id":"b7ae2beb-a4c6-4efd-949d-9b8bcac39a8f","name":"body.Nome","value":"={{ $json.body.Nome }}","type":"string"},{"id":"113409a9-76f1-4d13-92ab-7f0417fc4076","name":"body.Idade","value":"={{ $json.body.Idade }}","type":"string"},{"id":"2d80af71-9ba5-4982-bac5-ee4f1556867a","name":"body.Whatsapp","value":"={{ $json.body.Whatsapp }}","type":"string"},{"id":"cccd0ae3-645d-442d-bf07-1126a8189ca4","name":"body.Batismo","value":"={{ $json.body.Batismo }}","type":"string"},{"id":"06f479df-0587-44e2-a04c-42542849f6a5","name":"body.DescerAguas","value":"={{ $json.body.DescerAguas }}","type":"string"},{"id":"7092d74b-f2b3-4ec3-840e-f31098a0e66a","name":"body.TemGR","value":"={{ $json.body.TemGR }}","type":"string"},{"id":"811faf7d-7e80-4121-90ca-52de8a54a0b2","name":"body.NomeGR","value":"={{ $json.body.NomeGR }}","type":"string"},{"id":"26a5c1e5-1d99-4b78-bdb2-86034f5ebda1","name":"body.NomeLider","value":"={{ $json.body.NomeLider }}","type":"string"},{"id":"b3555df3-0d7f-46be-8c37-56a973a7c29b","name":"body.FrequentaRadical","value":"={{ $json.body.FrequentaRadical }}","type":"string"},{"id":"350511c0-1abc-426c-be82-7953c288e9eb","name":"body.Turno","value":"={{ $json.body.Turno }}","type":"string"},{"id":"2c56c515-fe8c-4d3e-a451-f830f481161a","name":"body.NomeResponsavel","value":"={{ $json.body.NomeResponsavel }}","type":"string"},{"id":"82d6e689-0e57-47ae-8159-09d44c15f457","name":"body.TelefoneResponsavel","value":"={{ $json.body.TelefoneResponsavel }}","type":"string"},{"id":"71d51099-8829-44b2-8c9b-b560861a812a","name":"body.Comentario","value":"={{ $json.body.Comentario }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-740,-440],"id":"25a7e8b7-c9d3-4d9b-901b-30200ed1403d","name":"Edit Fields"},{"parameters":{"operation":"append","documentId":{"__rl":true,"value":"1qHCDSwFeRY15J9BZdF2x5h05Dn-Rw8x8Wd89-mO2yyk","mode":"list","cachedResultName":"INTEGRAÃ‡AO 2025/01 IBC","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1qHCDSwFeRY15J9BZdF2x5h05Dn-Rw8x8Wd89-mO2yyk/edit?usp=drivesdk"},"sheetName":{"__rl":true,"value":"gid=0","mode":"list","cachedResultName":"INTEGRAÃ‡AO 2025/01 IBC","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1qHCDSwFeRY15J9BZdF2x5h05Dn-Rw8x8Wd89-mO2yyk/edit#gid=0"},"columns":{"mappingMode":"defineBelow","value":{"NOME":"={{ $json.nome }}","WHATSAPP":"={{ $json.whatsapp }}","IDADE":"={{ $json.idade }}","VAI SE BATIZAR":"={{ $json.batismo }}","TEM GR":"={{ $json.tem_gr }}","NOME DO GR":"={{ $json.nome_gr }}","LÃDER DE GR":"={{ $json.nome_lider }}","TELEFONE RESPONSÃVEL":"={{ $json.telefone_responsavel }}","FREQUENTA O RADICAL":"={{ $json.frequenta_radical }}","O QUE ACHOU DO INTEGRAÃ‡ÃƒO":"={{ $json.comentario }}","NOME RESPONSÃVEL":"={{ $json.nome_responsavel }}","QUEM VAI BATIZA-LO":"={{ $json.descer_aguas }}","MOTIVO NAO BATISMO":"={{ $json.motivo_nao_batizar }}","TEM INTERESSE EM GR":"={{ $json.interesse_gr }}","TURNO":"={{ $json.turno }}","NAO FREQUENTA O RADICAL MOTIVO":"={{ $json.motivo_radical }}"},"matchingColumns":[],"schema":[{"id":"NOME","displayName":"NOME","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"IDADE","displayName":"IDADE","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"WHATSAPP","displayName":"WHATSAPP","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"VAI SE BATIZAR","displayName":"VAI SE BATIZAR","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"QUEM VAI BATIZA-LO","displayName":"QUEM VAI BATIZA-LO","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"MOTIVO NAO BATISMO","displayName":"MOTIVO NAO BATISMO","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"TEM GR","displayName":"TEM GR","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"NOME DO GR","displayName":"NOME DO GR","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"LÃDER DE GR","displayName":"LÃDER DE GR","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"TEM INTERESSE EM GR","displayName":"TEM INTERESSE EM GR","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"FREQUENTA O RADICAL","displayName":"FREQUENTA O RADICAL","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"TURNO","displayName":"TURNO","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"NAO FREQUENTA O RADICAL MOTIVO","displayName":"NAO FREQUENTA O RADICAL MOTIVO","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"NOME RESPONSÃVEL","displayName":"NOME RESPONSÃVEL","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"TELEFONE RESPONSÃVEL","displayName":"TELEFONE RESPONSÃVEL","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"O QUE ACHOU DO INTEGRAÃ‡ÃƒO","displayName":"O QUE ACHOU DO INTEGRAÃ‡ÃƒO","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.googleSheets","typeVersion":4.5,"position":[140,-440],"id":"35ad177d-f4fb-4ad3-ba28-03a0b6365df0","name":"Google Sheets","credentials":{"googleSheetsOAuth2Api":{"id":"KDLloxZCu4SmjhtH","name":"Google Sheets account"}}},{"parameters":{"operation":"executeQuery","query":"CREATE TABLE batismo (\n    id SERIAL PRIMARY KEY,\n    nome VARCHAR(100) NOT NULL,\n    idade INT NOT NULL,\n    whatsapp VARCHAR(15) NOT NULL UNIQUE,\n    batismo VARCHAR(10) NOT NULL,\n    descer_aguas VARCHAR(100),\n    tem_gr VARCHAR(10) NOT NULL,\n    nome_gr VARCHAR(100),\n    nome_lider VARCHAR(100),\n    frequenta_radical VARCHAR(10) NOT NULL,\n    turno VARCHAR(10),\n    nome_responsavel VARCHAR(100) NOT NULL,\n    telefone_responsavel VARCHAR(15) NOT NULL,\n    comentario TEXT,\n    data_cadastro TIMESTAMP DEFAULT NOW()\n);\n","options":{}},"type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-480,-1180],"id":"d364b917-6ec9-41aa-bd9f-bf3fefc7cec4","name":"Create TABLE Batismo","credentials":{"postgres":{"id":"7a2Vz2gtRVeYNBS4","name":"Postgres"}}},{"parameters":{"operation":"executeQuery","query":"INSERT INTO batismo (\n    nome, idade, whatsapp, batismo, descer_aguas, tem_gr, nome_gr, nome_lider, frequenta_radical, turno, nome_responsavel, telefone_responsavel, comentario\n) VALUES (\n    '{{ $json.body.Nome }}',\n    {{ $json.body.Idade }},\n    '{{ $json.body.Whatsapp }}',\n    '{{ $json.body.Batismo }}',\n    '{{ $json.body.DescerAguas }}',\n    '{{ $json.body.TemGR }}',\n    '{{ $json.body.NomeGR }}',\n    '{{ $json.body.NomeLider }}',\n    '{{ $json.body.FrequentaRadical }}',\n    '{{ $json.body.Turno }}',\n    '{{ $json.body.NomeResponsavel }}',\n    '{{ $json.body.TelefoneResponsavel }}',\n    '{{ $json.body.Comentario }}'\n);\n","options":{}},"type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-440,-440],"id":"81c754db-5912-4f35-b33c-7b42d27488ee","name":"INSERT Tabela","credentials":{"postgres":{"id":"7a2Vz2gtRVeYNBS4","name":"Postgres"}}},{"parameters":{"operation":"executeQuery","query":"=SELECT * FROM batismo WHERE whatsapp = '{{ $('Edit Fields').item.json.body.Whatsapp }}';\n","options":{}},"type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-160,-440],"id":"db95d45b-dd42-49de-a403-5b3365c9281b","name":"Dados da Tabela","credentials":{"postgres":{"id":"7a2Vz2gtRVeYNBS4","name":"Postgres"}}},{"parameters":{"operation":"executeQuery","query":"TRUNCATE TABLE batismo RESTART IDENTITY;\n","options":{}},"type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-260,-1180],"id":"8f47181f-1023-4948-91b1-c6b8252060f3","name":"Excluir dados Tabele Batismo","credentials":{"postgres":{"id":"7a2Vz2gtRVeYNBS4","name":"Postgres"}}},{"parameters":{"content":"## Banco de Dados IntegraÃ§Ã£o\n","height":260,"width":500},"type":"n8n-nodes-base.stickyNote","position":[-540,-1260],"typeVersion":1,"id":"20ca5f4e-429c-418b-9bfa-f1de2552f759","name":"Sticky Note"},{"parameters":{"content":"## Fluxo IntegraÃ§Ã£o","height":320,"width":1740,"color":4},"type":"n8n-nodes-base.stickyNote","position":[-1060,-540],"typeVersion":1,"id":"80db4bcd-5b68-4248-8a81-5bf95ed83e3d","name":"Sticky Note1"},{"parameters":{"content":"## Fluxo IntegraÃ§Ã£o","height":420,"width":1740,"color":3},"type":"n8n-nodes-base.stickyNote","position":[-1060,-980],"typeVersion":1,"id":"ccb3063c-48d7-4b29-985f-a8d383b11350","name":"Sticky Note2"},{"parameters":{"operation":"executeQuery","query":"CREATE TABLE batismo (\n    id SERIAL PRIMARY KEY,\n    nome VARCHAR(100) NOT NULL,\n    idade INT NOT NULL,\n    whatsapp VARCHAR(15) NOT NULL UNIQUE,\n    batismo VARCHAR(10) NOT NULL,\n    descer_aguas VARCHAR(100),\n    tem_gr VARCHAR(10) NOT NULL,\n    nome_gr VARCHAR(100),\n    nome_lider VARCHAR(100),\n    frequenta_radical VARCHAR(10) NOT NULL,\n    turno VARCHAR(10),\n    nome_responsavel VARCHAR(100) NOT NULL,\n    telefone_responsavel VARCHAR(15) NOT NULL,\n    comentario TEXT,\n    data_cadastro TIMESTAMP DEFAULT NOW()\n);\n","options":{}},"type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-1000,-1180],"id":"c5c70137-0f51-4aa7-b735-3250bd4dd01d","name":"Create TABLE Batismo1","credentials":{"postgres":{"id":"7a2Vz2gtRVeYNBS4","name":"Postgres"}}},{"parameters":{"operation":"executeQuery","query":"TRUNCATE TABLE batismo RESTART IDENTITY;\n","options":{}},"type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-780,-1180],"id":"497a3ab3-e95d-4f99-92e4-fc5f7af847b7","name":"Excluir dados Tabele Batismo1","credentials":{"postgres":{"id":"7a2Vz2gtRVeYNBS4","name":"Postgres"}}},{"parameters":{"content":"## Banco de Dados GR Radical\n","height":260,"width":500},"type":"n8n-nodes-base.stickyNote","position":[-1060,-1260],"typeVersion":1,"id":"c35cd9bc-588c-4690-9063-6fac278ac8e0","name":"Sticky Note3"}],"connections":{"Definir Sexo e Idade":{"main":[[{"node":"Buscar Grupos","type":"main","index":0}]]},"Buscar Grupos":{"main":[[{"node":"PreparaÃ§Ã£o de Dados","type":"main","index":0}]]},"PreparaÃ§Ã£o de Dados":{"main":[[{"node":"Sorteio de Grupo","type":"main","index":0}]]},"Sorteio de Grupo":{"main":[[{"node":"Formato Num Lider","type":"main","index":0},{"node":"Mensagem para o Adolescente","type":"main","index":0}]]},"OpenAI":{"ai_languageModel":[[{"node":"Buscar Grupos","type":"ai_languageModel","index":0}]]},"On form submission1":{"main":[[{"node":"Definir Sexo e Idade","type":"main","index":0}]]},"Sheets2":{"ai_tool":[[{"node":"Buscar Grupos","type":"ai_tool","index":0}]]},"Formato Num Lider":{"main":[[{"node":"Mensagem para o LÃ­der","type":"main","index":0}]]},"Receber Dados FormulÃ¡rio":{"main":[[{"node":"Edit Fields","type":"main","index":0}]]},"Edit Fields":{"main":[[{"node":"INSERT Tabela","type":"main","index":0}]]},"Google Sheets":{"main":[[{"node":"Confirmar Cadastro","type":"main","index":0}]]},"INSERT Tabela":{"main":[[{"node":"Dados da Tabela","type":"main","index":0}]]},"Dados da Tabela":{"main":[[{"node":"Google Sheets","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"84040673-faf2-4cac-858c-5a9869cae64b","triggerCount":3,"tags":[{"createdAt":"2025-03-15T18:37:08.081Z","updatedAt":"2025-03-15T18:37:08.081Z","id":"kbtaweJ5sZ2pHGRx","name":"IBC"}]}